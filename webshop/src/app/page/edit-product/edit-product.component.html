<h1 class="text-center my-5">Product editor</h1>

<h3 class="text-center my-5">Teszt</h3>

<div class="row mt-3 col-12 col-md-10 offset-md-1 col-lg-8 offset-lg-2" *ngIf="product$ | async as product">
  <div class="">
    <form #productEditorForm="ngForm" (ngSubmit)="onUpdate(product)" class="mx-auto">
      <div class="row mb-5">
        <label for="name" class="col-sm-2 col-form-label">
          <b>Name</b>
        </label>
        <div class="col-sm-10">
          <input name="name" [(ngModel)]="product.name" type="text" class="form-control"
            pattern="^[A-Ű][A-Űa-Ű .-0-9]{4,24}$" required />
          <div *ngIf="productEditorForm.controls['name']?.invalid" class="error-message">
            Name must be at least 5 characters long!
          </div>
        </div>
      </div>

      <div class="row mb-5">
        <label for="type" class="col-sm-2 col-form-label">
          <b>Type</b>
        </label>
        <div class="col-sm-10">
          <input name="type" [(ngModel)]="product.type" type="text" class="form-control"
            pattern="^[A-Ű][A-Űa-Ű .]{4,24}$" required />
          <div *ngIf="productEditorForm.controls['type']?.invalid" class="error-message">
            Type is required!
          </div>
        </div>
      </div>

      <div class="row mb-5">
        <label for="category" class="col-sm-2 col-form-label">
          <b>Category</b>
        </label>
        <div class="col-sm-10">
          <input name="category" [(ngModel)]="product.catID" type="text" class="form-control"
            pattern="^[A-Ű][A-Űa-Ű .]{4,24}$" required />
          <div *ngIf="productEditorForm.controls['category']?.invalid" class="error-message">
            Category is required!
          </div>
        </div>
      </div>

      <div class="row mb-5">
        <label for="description" class="col-sm-2 col-form-label">
          <b>Description</b>
        </label>
        <div class="col-sm-10">
          <textarea name="description" class="form-control" required [(ngModel)]="product.description"
            pattern=".{5,1000}"></textarea>

          <div *ngIf="productEditorForm.controls['description']?.invalid" class="error-message">
            Description is required!
          </div>
        </div>
      </div>

      <div class="row mb-3">
        <label for="price" class="col-sm-2 col-form-label">
          <b>Price</b>
        </label>
        <div class="col-3 col-md-2">
          <input name="price" [(ngModel)]="product.price" type="number" class="form-control" required />
          <div *ngIf="productEditorForm.controls['price']?.invalid" class="error-message">
            Price required!
          </div>
        </div>
      </div>

      <!-- <div class="form-check my-5">
        <label class="form-check-label me-3" for="featured">
          <b>Featured</b>
        </label>
        <input [(ngModel)]="product.featured" class="form-check-input" type="checkbox" value="" id="featured">
      </div>

      <div class="form-check mb-5">
        <label class="form-check-label me-3" for="active">
          <b>Active</b>
        </label>
        <input [(ngModel)]="product.active" class="form-check-input" type="checkbox" value="" id="active">
      </div> -->

      <div class="row mb-5">
        <label for="featured" class="col-sm-2 col-form-label">
          <b>Featured</b>
        </label>
        <div class="col-sm-10">
          <input name="featured" [(ngModel)]="product.featured" type="checkbox" class="form-check-input" />
        </div>
      </div>

      <div class="row mb-5">
        <label for="active" class="col-sm-2 col-form-label">
          <b>Active</b>
        </label>
        <div class="col-sm-10">
          <input name="active" [(ngModel)]="product.active" type="checkbox" class="form-check-input" />
        </div>
      </div>

      <div class="mt-3 d-flex justify-content-center">
        <button [disabled]="productEditorForm.invalid" class="btn btn-primary" type="submit">
          <i class="fa fa-save"></i> Save
        </button>
      </div>
    </form>
  </div>
</div>
